<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Village Connect | Heritage Archive</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>

    <nav>
        <div class="logo">ğŸ‡®ğŸ‡³ Village Connect</div>
        <div class="nav-links">
            <button onclick="showSection('home')">Home</button>
            <button onclick="showSection('feed')">Explore</button>
            <button id="myPostsBtn" onclick="filterMyPosts()">My Posts ğŸ“‚</button>
            <button onclick="showSection('add')">Share</button>
            
            <button id="navLoginBtn" onclick="googleLogin()">G Login</button>
            <button id="navLogoutBtn" onclick="logout()" style="display:none; background: #ff4444; color: white; padding: 5px 10px; border-radius: 20px;">Logout</button>
            <button onclick="toggleTheme()" id="themeBtn" style="font-size:1.2rem; background:none; border:none; cursor:pointer;">ğŸŒ™</button>
        </div>
    </nav>
<div class="flag-card">
    <div class="band saffron"></div>
    <div class="band white">
        <div class="chakra"></div>
    </div>
    <div class="band green"></div>
</div>

    <header id="homeSection" class="active-section">
        <div class="hero-content">
            <h1>Preserve Your <br><span>Village Roots</span></h1>
            <p>Join India's first digital heritage archive. Record local traditions, festivals, and stories on the cloud.</p>
            
            <h3 id="welcomeMsg" style="margin-bottom: 20px; color: #ffcc00;">Welcome, Guest</h3>
            
            <button class="cta-btn" onclick="showSection('feed')">Start Exploring ğŸš€</button>

            <div class="stats-box">
                <span>ğŸ‡®ğŸ‡³ 500+ Villages</span>
                <span>ğŸ“¸ 10k+ Stories</span>
                <span>ğŸ›¡ï¸ Verified</span>
            </div>
        </div>
    </header>
    <section id="feedSection" style="display: none;">
        <div class="app-container">
            <h2>ğŸŒ Explore Traditions</h2>
            
            <div class="search-box" style="display: flex; flex-direction: column; gap: 10px;">
                
                <div style="display: flex; width: 100%; gap: 8px;">
                    
                    <input type="text" id="cityInput" placeholder="Search..." onkeyup="findTraditions()" 
                           style="flex: 1; padding: 12px; border-radius: 12px; border: 1px solid #444; background: #222; color: white;">
                    
                    <button onclick="startVoiceSearch()" style="width: 45px; background:white; color:#333; border:none; border-radius:12px; font-size:1.2rem; display:flex; align-items:center; justify-content:center;">
                        <span class="material-icons">mic</span>
                    </button>
<button onclick="findTraditions()" style="background: linear-gradient(135deg, #00C6FF, #0072FF); border:none; border-radius:12px; color: white; font-size:1.2rem; display:flex; align-items:center; justify-content:center; cursor: pointer; box-shadow: 0 4px 15px rgba(0, 198, 255, 0.3);">
    <span class="material-icons">search</span>
</button>


                </div> <div id="filterContainer" style="display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none;">
                    <button onclick="filterBy('All')" class="filter-chip active-chip">All</button>
                    <button onclick="filterBy('Festivals')" class="filter-chip">Festivals</button>
                    <button onclick="filterBy('Temples')" class="filter-chip">Temples</button>
                    <button onclick="filterBy('Food')" class="filter-chip">Food</button>
                    <button onclick="filterBy('History')" class="filter-chip">History</button>
                </div>

            </div>
            
            <div id="resultList">
                <p style="text-align:center; color:#666;">Loading stories from cloud... â˜ï¸</p>
            </div>
        </div>
    </section>


    <section id="addSection" style="display: none;">
        <div class="app-container">
            <h2>â• Share a Memory</h2>
            
            <div id="loginWarning" style="text-align: center; padding: 20px;">
                <p>ğŸ”’ You must login to post a story.</p>
                <button onclick="googleLogin()" class="cta-btn">Login with Google</button>
            </div>

            <div class="add-form" id="addBox" style="display: none;">
                <input type="text" id="newCity" placeholder="City Name (e.g. Kavutaram)">
                <input type="text" id="newTitle" placeholder="Title (e.g. Rain Festival)">
                <input type="date" id="newDate">
                <textarea id="newDesc" placeholder="Describe the history, food, or tradition..." rows="4"></textarea>
                
                <select id="categoryInput" style="width: 100%; padding: 12px; margin-bottom: 15px; border-radius: 12px; border: none; background: rgba(255,255,255,0.1); color: white; backdrop-filter: blur(5px);">
                    <option value="General" style="color: black;">ğŸŒ General</option>
                    <option value="Festivals" style="color: black;">ğŸ‰ Festivals</option>
                    <option value="Temples" style="color: black;">ğŸ›• Temples</option>
                    <option value="Food" style="color: black;">ğŸ² Food</option>
                    <option value="History" style="color: black;">ğŸ“œ History</option>
                </select>

                <div style="margin-bottom: 15px;">
                    <label style="color: #bbb; font-size: 0.9rem;">Add a Photo (Max 1MB):</label>
                    <input type="file" id="photoInput" accept="image/*" style="margin-top: 5px;">
                </div>
                
                <button id="submitBtn" onclick="addTradition()" class="cta-btn" style="width: 100%;">Post Tradition</button>
                <button onclick="resetForm()" style="width:100%; background:none; border:none; color:#666; margin-top:10px; cursor:pointer;">Cancel / Reset</button>
            </div>
        </div>
    </section>


    <footer>
        <p>Built with ğŸ’™ by Rajesh | Future Engineer</p>
    </footer>
<script src="main.js?v=2"></script>
</body>
</html>
