<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Village Connect | Heritage Archive</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>

    <nav>
        <div class="logo">ğŸ‡®ğŸ‡³ Village Connect</div>
        <div class="nav-links">
            <button onclick="showSection('home')">Home</button>
            <button onclick="showSection('feed')">Explore</button>
            <button onclick="showSection('add')">Share</button>
            
            <button id="navLoginBtn" onclick="googleLogin()">G Login</button>
            <button id="navLogoutBtn" onclick="logout()" style="display:none; background: #ff4444; color: white; padding: 5px 10px; border-radius: 20px;">Logout</button>
        </div>
    </nav>

    <header id="homeSection" class="active-section">
        <div class="hero-content">
            <h1>Preserve Your <br><span>Village Roots</span></h1>
            <p>Join India's first digital heritage archive. Record local traditions, festivals, and stories on the cloud.</p>
            
            <h3 id="welcomeMsg" style="margin-bottom: 20px; color: #ffcc00;">Welcome, Guest</h3>
            
            <button class="cta-btn" onclick="showSection('feed')">Start Exploring ğŸš€</button>

            <div class="stats-box">
                <span>ğŸ‡®ğŸ‡³ 500+ Villages</span>
                <span>ğŸ“¸ 10k+ Stories</span>
                <span>ğŸ›¡ï¸ Verified</span>
            </div>
        </div>
    </header>

    <section id="feedSection" style="display: none;">
        <div class="app-container">
            <h2>ğŸŒ Explore Traditions</h2>
            
            <div class="search-box">
    <input type="text" id="cityInput" placeholder="Search (e.g. Rain, Pickle)..." onkeyup="findTraditions()">
    
    <button onclick="startVoiceSearch()" style="background:white; color:#333; border:1px solid #ddd; margin-right:5px;">
        <span class="material-icons">mic</span>
    </button>
    
    <button onclick="findTraditions()"><span class="material-icons">search</span></button>
</div>

            
            <div id="resultList">
                <p style="text-align:center; color:#666;">Loading stories from cloud... â˜ï¸</p>
            </div>
        </div>
    </section>

    <section id="addSection" style="display: none;">
        <div class="app-container">
            <h2>â• Share a Memory</h2>
            
            <div id="loginWarning" style="text-align: center; padding: 20px;">
                <p>ğŸ”’ You must login to post a story.</p>
                <button onclick="googleLogin()" class="cta-btn">Login with Google</button>
            </div>

            <div class="add-form" id="addBox" style="display: none;">
                <input type="text" id="newCity" placeholder="City Name (e.g. Kavutaram)">
                <input type="text" id="newTitle" placeholder="Title (e.g. Rain Festival)">
                <input type="date" id="newDate">
                <textarea id="newDesc" placeholder="Describe the history, food, or tradition..." rows="4"></textarea>
                
                <label style="display: block; margin-top: 10px; font-weight: bold; font-size: 0.9rem;">ğŸ“¸ Upload Photo (Max 1MB)</label>
                <input type="file" id="newPhoto" accept="image/*">
                
                <button id="submitBtn" onclick="addTradition()" class="cta-btn" style="width: 100%; margin-top: 15px;">Post Tradition</button>
                <button onclick="resetForm()" style="width:100%; background:none; border:none; color:#666; margin-top:10px; cursor:pointer;">Cancel / Reset</button>
            </div>
        </div>
    </section>

    <footer>
        <p>Built with ğŸ’™ by Rajesh | Future Engineer</p>
    </footer>

    <script src="main.js"></script>
</body>
</html>
